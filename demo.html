<!doctype html>

<html>
  <head>
    <title>glg-employment</title>
    <script src="node_modules/polymer/platform.js"></script>
    <link rel="stylesheet" href="node_modules/font-awesome/css/font-awesome.css">
    <link rel="stylesheet" href="node_modules/ui-styles/ui-styles.css">
    <link rel="import" href="node_modules/polymer/polymer.html">
    <link rel="import" href="node_modules/polymer/polymer.html">
    <link rel="import" href="build/glg-employment.html">
    <style>
      body {
        font-family: "Helvetica Neue", "Helvetica", Arial;
      }

      #holder {
        width: 65%;
      }

      .job {
        font-size: 19px;
      }

      .dates {
        font-weight: bold;
      }

      .validation {
        color: green;
      }

    </style>
  </head>
  <body unresolved>
    <div id="holder">
      
      <h4>Employment Form  <a id="clear"><i class="fa fa-empire"></i></a></h4>
      <br >
      <glg-employment nectar="wss://nectar.glgroup.com/ws"></glg-employment>

      <br /><br />

      <h4>Output</h4>
      <template id="output" bind="{{employment}}">

        <div class="job">
          <span>{{title}}</span> 
          at 
          <a href="https://advisors.glgroup.com/company/{{company.id}}" target="blank" style="font-weight:normal">{{company.name}}</a>
        </div>

        <div class="dates">
          {{startDateText}} - {{endDateText}}
        </div>

        <template if="{{valid}}">
          <br />
          <div class="validation">
            <i class="green fa fa-check-circle-o"></i> This record should be valid to save
          </div>
        </template>

      </template>


    </div>
    <script>
      document.addEventListener('polymer-ready', function() {
        //poke your element here

        var employment = document.querySelector('glg-employment')
            output = document.querySelector('#output')
            clearLink = document.querySelector('#clear');


        clearLink.addEventListener('click', function() {
          employment.clear()
        });


        employment.addEventListener('change', function(evt) {
          output.model = { employment: evt.detail };
        });
      })
    </script>
  </body>
</html>
